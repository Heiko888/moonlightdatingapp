export const dynamic = 'force-dynamic';

// Fallback-Daten für Lilith Centers
const fallbackLilithCenters = [
  {
    id: "lilith_center_HEAD",
    center_name: "HEAD",
    essence: "Lilith HEAD",
    consciousness: "Lilith Bewusstsein im HEAD Center",
    description: "Lilith hier zeigt, wie wir das HEAD Center wild und unabhängig entwickeln.",
    deep_meaning: "Die Lilith Energie im HEAD Center - wie du das HEAD Center mit wilder Lilith Kraft entwickelst.",
    shadow_aspects: ["HEAD Unterdrückung", "Konformität", "Angst vor Rebellion", "HEAD Tabus"],
    gifts: ["Lilith HEAD", "Wilde Kreativität", "Unabhängigkeit", "Tabubruch"],
    affirmation: "Ich entwickle das HEAD Center mit wilder Lilith Kraft. Mein HEAD Center ist unabhängig und frei.",
    gates: [64, 61, 63]
  },
  {
    id: "lilith_center_AJNA",
    center_name: "AJNA",
    essence: "Lilith AJNA",
    consciousness: "Lilith Bewusstsein im AJNA Center",
    description: "Lilith hier zeigt, wie wir das AJNA Center wild und unabhängig entwickeln.",
    deep_meaning: "Die Lilith Energie im AJNA Center - wie du das AJNA Center mit wilder Lilith Kraft entwickelst.",
    shadow_aspects: ["AJNA Unterdrückung", "Konformität", "Angst vor Rebellion", "AJNA Tabus"],
    gifts: ["Lilith AJNA", "Wilde Kreativität", "Unabhängigkeit", "Tabubruch"],
    affirmation: "Ich entwickle das AJNA Center mit wilder Lilith Kraft. Mein AJNA Center ist unabhängig und frei.",
    gates: [47, 24, 11]
  },
  {
    id: "lilith_center_THROAT",
    center_name: "THROAT",
    essence: "Lilith THROAT",
    consciousness: "Lilith Bewusstsein im THROAT Center",
    description: "Lilith hier zeigt, wie wir das THROAT Center wild und unabhängig entwickeln.",
    deep_meaning: "Die Lilith Energie im THROAT Center - wie du das THROAT Center mit wilder Lilith Kraft entwickelst.",
    shadow_aspects: ["THROAT Unterdrückung", "Konformität", "Angst vor Rebellion", "THROAT Tabus"],
    gifts: ["Lilith THROAT", "Wilde Kreativität", "Unabhängigkeit", "Tabubruch"],
    affirmation: "Ich entwickle das THROAT Center mit wilder Lilith Kraft. Mein THROAT Center ist unabhängig und frei.",
    gates: [62, 23, 56, 16, 20, 31, 33, 8]
  },
  {
    id: "lilith_center_G",
    center_name: "G",
    essence: "Lilith G",
    consciousness: "Lilith Bewusstsein im G Center",
    description: "Lilith hier zeigt, wie wir das G Center wild und unabhängig entwickeln.",
    deep_meaning: "Die Lilith Energie im G Center - wie du das G Center mit wilder Lilith Kraft entwickelst.",
    shadow_aspects: ["G Unterdrückung", "Konformität", "Angst vor Rebellion", "G Tabus"],
    gifts: ["Lilith G", "Wilde Kreativität", "Unabhängigkeit", "Tabubruch"],
    affirmation: "Ich entwickle das G Center mit wilder Lilith Kraft. Mein G Center ist unabhängig und frei.",
    gates: [1, 13, 25, 46, 2, 15, 10, 7]
  },
  {
    id: "lilith_center_HEART",
    center_name: "HEART",
    essence: "Lilith HEART",
    consciousness: "Lilith Bewusstsein im HEART Center",
    description: "Lilith hier zeigt, wie wir das HEART Center wild und unabhängig entwickeln.",
    deep_meaning: "Die Lilith Energie im HEART Center - wie du das HEART Center mit wilder Lilith Kraft entwickelst.",
    shadow_aspects: ["HEART Unterdrückung", "Konformität", "Angst vor Rebellion", "HEART Tabus"],
    gifts: ["Lilith HEART", "Wilde Kreativität", "Unabhängigkeit", "Tabubruch"],
    affirmation: "Ich entwickle das HEART Center mit wilder Lilith Kraft. Mein HEART Center ist unabhängig und frei.",
    gates: [21, 40, 26, 51]
  },
  {
    id: "lilith_center_SOLAR",
    center_name: "SOLAR",
    essence: "Lilith SOLAR",
    consciousness: "Lilith Bewusstsein im SOLAR Center",
    description: "Lilith hier zeigt, wie wir das SOLAR Center wild und unabhängig entwickeln.",
    deep_meaning: "Die Lilith Energie im SOLAR Center - wie du das SOLAR Center mit wilder Lilith Kraft entwickelst.",
    shadow_aspects: ["SOLAR Unterdrückung", "Konformität", "Angst vor Rebellion", "SOLAR Tabus"],
    gifts: ["Lilith SOLAR", "Wilde Kreativität", "Unabhängigkeit", "Tabubruch"],
    affirmation: "Ich entwickle das SOLAR Center mit wilder Lilith Kraft. Mein SOLAR Center ist unabhängig und frei.",
    gates: [36, 22, 37, 6, 49, 55, 30]
  },
  {
    id: "lilith_center_SACRAL",
    center_name: "SACRAL",
    essence: "Lilith SACRAL",
    consciousness: "Lilith Bewusstsein im SACRAL Center",
    description: "Lilith hier zeigt, wie wir das SACRAL Center wild und unabhängig entwickeln.",
    deep_meaning: "Die Lilith Energie im SACRAL Center - wie du das SACRAL Center mit wilder Lilith Kraft entwickelst.",
    shadow_aspects: ["SACRAL Unterdrückung", "Konformität", "Angst vor Rebellion", "SACRAL Tabus"],
    gifts: ["Lilith SACRAL", "Wilde Kreativität", "Unabhängigkeit", "Tabubruch"],
    affirmation: "Ich entwickle das SACRAL Center mit wilder Lilith Kraft. Mein SACRAL Center ist unabhängig und frei.",
    gates: [34, 5, 14, 29, 59, 9, 3]
  },
  {
    id: "lilith_center_SPLEEN",
    center_name: "SPLEEN",
    essence: "Lilith SPLEEN",
    consciousness: "Lilith Bewusstsein im SPLEEN Center",
    description: "Lilith hier zeigt, wie wir das SPLEEN Center wild und unabhängig entwickeln.",
    deep_meaning: "Die Lilith Energie im SPLEEN Center - wie du das SPLEEN Center mit wilder Lilith Kraft entwickelst.",
    shadow_aspects: ["SPLEEN Unterdrückung", "Konformität", "Angst vor Rebellion", "SPLEEN Tabus"],
    gifts: ["Lilith SPLEEN", "Wilde Kreativität", "Unabhängigkeit", "Tabubruch"],
    affirmation: "Ich entwickle das SPLEEN Center mit wilder Lilith Kraft. Mein SPLEEN Center ist unabhängig und frei.",
    gates: [48, 57, 44, 50, 32, 28, 18]
  },
  {
    id: "lilith_center_ROOT",
    center_name: "ROOT",
    essence: "Lilith ROOT",
    consciousness: "Lilith Bewusstsein im ROOT Center",
    description: "Lilith hier zeigt, wie wir das ROOT Center wild und unabhängig entwickeln.",
    deep_meaning: "Die Lilith Energie im ROOT Center - wie du das ROOT Center mit wilder Lilith Kraft entwickelst.",
    shadow_aspects: ["ROOT Unterdrückung", "Konformität", "Angst vor Rebellion", "ROOT Tabus"],
    gifts: ["Lilith ROOT", "Wilde Kreativität", "Unabhängigkeit", "Tabubruch"],
    affirmation: "Ich entwickle das ROOT Center mit wilder Lilith Kraft. Mein ROOT Center ist unabhängig und frei.",
    gates: [41, 39, 53, 38, 58, 54, 52, 19, 60]
  }
];

export async function GET() {
  try {
    // Versuche Backend-API zu erreichen
    const backendUrl = process.env.BACKEND_URL || 'http://localhost:4001';
    const response = await fetch(`${backendUrl}/lilith/centers`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json',
      },
    });

    if (response.ok) {
      const data = await response.json();
      return Response.json(data);
    } else {
      console.warn('Backend nicht verfügbar, verwende Fallback-Daten');
      return Response.json(fallbackLilithCenters);
    }
  } catch (error) {
    console.error('Fehler beim Abrufen der Lilith Centers:', error);
    return Response.json(fallbackLilithCenters);
  }
}
